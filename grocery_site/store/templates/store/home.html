{% extends 'store/base.html' %}
{% load static %}

{% block content %}
<!-- Carousel Section -->
<div id="mainCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-inner rounded overflow-hidden shadow">
    <div class="carousel-item active">
        <img src="/media/carousel/carousel_1.png" class="d-block w-100 carousel-img" alt="Banner 1">
    </div>
    <div class="carousel-item">
        <img src="/media/carousel/carousel_2.png" class="d-block w-100 carousel-img" alt="Banner 2">
    </div>
    <div class="carousel-item">
      <img src="/media/carousel/carousel_3.jpg" class="d-block w-100 carousel-img" alt="Banner 3">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev" title="Previous Slide">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next" title="Next Slide">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>

<!-- Product Listing -->
<h2 class="mb-4 text-center">🛒 Our Fresh Products</h2>

<div class="row">
  {% for product in products %}
  <div class="col-md-6 col-lg-3 mb-4">
    <div class="card h-100 shadow border-0 product-card">
      <img src="{{ product.image.url }}" class="card-img-top product-image" alt="{{ product.title }}">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title text-truncate">{{ product.title }}</h5>
        <p class="card-text text-success fw-bold">₹{{ product.price }}</p>
        <div class="mt-auto d-grid gap-2">
          <a href="{% url 'product_detail' product.pk %}" class="btn btn-outline-primary btn-sm">🔍 View Details</a>
          <a href="{% url 'add_to_cart' product.id %}" class="btn btn-warning">Buy Now</a>
          <a href="{% url 'add_to_cart' product.pk %}" class="btn btn-success btn-sm add-to-cart-btn">🛒 Add to Cart</a>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}